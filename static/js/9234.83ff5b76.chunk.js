"use strict";(self.webpackChunktaekwonworld=self.webpackChunktaekwonworld||[]).push([[9234],{39234:function(e,t,i){i.d(t,{fH:function(){return Re}});var n=i(72791),r=i(8983),a=i(66706),o=i(85332),s=i(63126),l=i(51153),u=i(86344),h=i(85520),c=i(83907),f=i(52007),d=i.n(f),y=i(80184),v=i(54753),g=i(37762),p=i(74165),x=i(15671),m=i(43144),b=Math.pow(2,-52),_=new Uint32Array(512),k=function(){function e(t){(0,x.Z)(this,e);var i=t.length>>1;if(i>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var n=Math.max(2*i-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}return(0,m.Z)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,i=this._hullNext,n=this._hullTri,r=this._hullHash,a=e.length>>1,o=1/0,s=1/0,l=-1/0,u=-1/0,h=0;h<a;h++){var c=e[2*h],f=e[2*h+1];c<o&&(o=c),f<s&&(s=f),c>l&&(l=c),f>u&&(u=f),this._ids[h]=h}for(var d,y,v,g=(o+l)/2,p=(s+u)/2,x=1/0,m=0;m<a;m++){var _=w(g,p,e[2*m],e[2*m+1]);_<x&&(d=m,x=_)}var k=e[2*d],M=e[2*d+1];x=1/0;for(var R=0;R<a;R++)if(R!==d){var C=w(k,M,e[2*R],e[2*R+1]);C<x&&C>0&&(y=R,x=C)}for(var O=e[2*y],j=e[2*y+1],Z=1/0,B=0;B<a;B++)if(B!==d&&B!==y){var P=q(k,M,O,j,e[2*B],e[2*B+1]);P<Z&&(v=B,Z=P)}var A=e[2*v],L=e[2*v+1];if(Z===1/0){for(var F=0;F<a;F++)this._dists[F]=e[2*F]-e[0]||e[2*F+1]-e[1];T(this._ids,this._dists,0,a-1);for(var E=new Uint32Array(a),W=0,G=0,V=-1/0;G<a;G++){var I=this._ids[G];this._dists[I]>V&&(E[W++]=I,V=this._dists[I])}return this.hull=E.subarray(0,W),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(S(k,M,O,j,A,L)){var z=y,Y=O,D=j;y=v,O=A,j=L,v=z,A=Y,L=D}var H=function(e,t,i,n,r,a){var o=i-e,s=n-t,l=r-e,u=a-t,h=o*o+s*s,c=l*l+u*u,f=.5/(o*u-s*l),d=e+(u*h-s*c)*f,y=t+(o*c-l*h)*f;return{x:d,y:y}}(k,M,O,j,A,L);this._cx=H.x,this._cy=H.y;for(var U=0;U<a;U++)this._dists[U]=w(e[2*U],e[2*U+1],H.x,H.y);T(this._ids,this._dists,0,a-1),this._hullStart=d;var X=3;i[d]=t[v]=y,i[y]=t[d]=v,i[v]=t[y]=d,n[d]=0,n[y]=1,n[v]=2,r.fill(-1),r[this._hashKey(k,M)]=d,r[this._hashKey(O,j)]=y,r[this._hashKey(A,L)]=v,this.trianglesLen=0,this._addTriangle(d,y,v,-1,-1,-1);for(var K,N,Q=0;Q<this._ids.length;Q++){var $=this._ids[Q],J=e[2*$],ee=e[2*$+1];if(!(Q>0&&Math.abs(J-K)<=b&&Math.abs(ee-N)<=b)&&(K=J,N=ee,$!==d&&$!==y&&$!==v)){for(var te=0,ie=0,ne=this._hashKey(J,ee);ie<this._hashSize&&(-1===(te=r[(ne+ie)%this._hashSize])||te===i[te]);ie++);for(var re=te=t[te],ae=void 0;ae=i[re],!S(J,ee,e[2*re],e[2*re+1],e[2*ae],e[2*ae+1]);)if((re=ae)===te){re=-1;break}if(-1!==re){var oe=this._addTriangle(re,$,i[re],-1,-1,n[re]);n[$]=this._legalize(oe+2),n[re]=oe,X++;for(var se=i[re];ae=i[se],S(J,ee,e[2*se],e[2*se+1],e[2*ae],e[2*ae+1]);)oe=this._addTriangle(se,$,ae,n[$],-1,n[se]),n[$]=this._legalize(oe+2),i[se]=se,X--,se=ae;if(re===te)for(;S(J,ee,e[2*(ae=t[re])],e[2*ae+1],e[2*re],e[2*re+1]);)oe=this._addTriangle(ae,$,re,-1,n[re],n[ae]),this._legalize(oe+2),n[ae]=oe,i[re]=re,X--,re=ae;this._hullStart=t[$]=re,i[re]=t[se]=$,i[$]=se,r[this._hashKey(J,ee)]=$,r[this._hashKey(e[2*re],e[2*re+1])]=re}}}this.hull=new Uint32Array(X);for(var le=0,ue=this._hullStart;le<X;le++)this.hull[le]=ue,ue=i[ue];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var i=e/(Math.abs(e)+Math.abs(t));return(t>0?3-i:1+i)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,i=this._halfedges,n=this.coords,r=0,a=0;;){var o=i[e],s=e-e%3;if(a=s+(e+2)%3,-1!==o){var l=o-o%3,u=s+(e+1)%3,h=l+(o+2)%3,c=t[a],f=t[e],d=t[u],y=t[h];if(R(n[2*c],n[2*c+1],n[2*f],n[2*f+1],n[2*d],n[2*d+1],n[2*y],n[2*y+1])){t[e]=y,t[o]=c;var v=i[h];if(-1===v){var g=this._hullStart;do{if(this._hullTri[g]===h){this._hullTri[g]=e;break}g=this._hullPrev[g]}while(g!==this._hullStart)}this._link(e,v),this._link(o,i[a]),this._link(a,h);var p=l+(o+1)%3;r<_.length&&(_[r++]=p)}else{if(0===r)break;e=_[--r]}}else{if(0===r)break;e=_[--r]}}return a}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,i,n,r,a){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=i,this._link(o,n),this._link(o+1,r),this._link(o+2,a),this.trianglesLen+=3,o}}],[{key:"from",value:function(t){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j,r=t.length,a=new Float64Array(2*r),o=0;o<r;o++){var s=t[o];a[2*o]=i(s),a[2*o+1]=n(s)}return new e(a)}}]),e}();function w(e,t,i,n){var r=e-i,a=t-n;return r*r+a*a}function M(e,t,i,n,r,a){var o=(n-t)*(r-e),s=(i-e)*(a-t);return Math.abs(o-s)>=33306690738754716e-32*Math.abs(o+s)?o-s:0}function S(e,t,i,n,r,a){return(M(r,a,e,t,i,n)||M(e,t,i,n,r,a)||M(i,n,r,a,e,t))<0}function R(e,t,i,n,r,a,o,s){var l=e-o,u=t-s,h=i-o,c=n-s,f=r-o,d=a-s,y=h*h+c*c,v=f*f+d*d;return l*(c*v-y*d)-u*(h*v-y*f)+(l*l+u*u)*(h*d-c*f)<0}function q(e,t,i,n,r,a){var o=i-e,s=n-t,l=r-e,u=a-t,h=o*o+s*s,c=l*l+u*u,f=.5/(o*u-s*l),d=(u*h-s*c)*f,y=(o*c-l*h)*f;return d*d+y*y}function T(e,t,i,n){if(n-i<=20)for(var r=i+1;r<=n;r++){for(var a=e[r],o=t[a],s=r-1;s>=i&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{var l=i+1,u=n;C(e,i+n>>1,l),t[e[i]]>t[e[n]]&&C(e,i,n),t[e[l]]>t[e[n]]&&C(e,l,n),t[e[i]]>t[e[l]]&&C(e,i,l);for(var h=e[l],c=t[h];;){do{l++}while(t[e[l]]<c);do{u--}while(t[e[u]]>c);if(u<l)break;C(e,l,u)}e[i+1]=e[u],e[u]=h,n-l+1>=u-i?(T(e,t,l,n),T(e,t,i,u-1)):(T(e,t,i,u-1),T(e,t,l,n))}}function C(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function O(e){return e[0]}function j(e){return e[1]}var Z=1e-6,B=function(){function e(){(0,x.Z)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return(0,m.Z)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,i){var n=(e=+e)+(i=+i),r=t=+t;if(i<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(n,",").concat(r):(Math.abs(this._x1-n)>Z||Math.abs(this._y1-r)>Z)&&(this._+="L"+n+","+r),i&&(this._+="A".concat(i,",").concat(i,",0,1,1,").concat(e-i,",").concat(t,"A").concat(i,",").concat(i,",0,1,1,").concat(this._x1=n,",").concat(this._y1=r))}},{key:"rect",value:function(e,t,i,n){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+i,"v").concat(+n,"h").concat(-i,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),P=function(){function e(){(0,x.Z)(this,e),this._=[]}return(0,m.Z)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),A=i(29439),L=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],n=(0,A.Z)(i,4),r=n[0],a=n[1],o=n[2],s=n[3];if((0,x.Z)(this,e),!((o=+o)>=(r=+r))||!((s=+s)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=r,this.ymax=s,this.ymin=a,this._init()}return(0,m.Z)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,i=this.delaunay,n=i.points,r=i.hull,a=i.triangles,o=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2),l=0,u=0,h=a.length;l<h;l+=3,u+=2){var c=2*a[l],f=2*a[l+1],d=2*a[l+2],y=n[c],v=n[c+1],g=n[f],p=n[f+1],x=n[d],m=n[d+1],b=g-y,_=p-v,k=x-y,w=m-v,M=b*b+_*_,S=k*k+w*w,R=2*(b*w-_*k);if(R)if(Math.abs(R)<1e-8)e=(y+x)/2,t=(v+m)/2;else{var q=1/R;e=y+(w*M-_*S)*q,t=v+(b*S-k*M)*q}else e=(y+x)/2-1e8*w,t=(v+m)/2+1e8*k;s[u]=e,s[u+1]=t}var T,C,O,j=r[r.length-1],Z=4*j,B=n[2*j],P=n[2*j+1];o.fill(0);for(var A=0;A<r.length;++A)T=Z,C=B,O=P,Z=4*(j=r[A]),B=n[2*j],P=n[2*j+1],o[T+2]=o[Z]=O-P,o[T+3]=o[Z+1]=B-C}},{key:"render",value:function(e){var t=null==e?e=new B:void 0,i=this.delaunay,n=i.halfedges,r=i.inedges,a=i.hull,o=this.circumcenters,s=this.vectors;if(a.length<=1)return null;for(var l=0,u=n.length;l<u;++l){var h=n[l];if(!(h<l)){var c=2*Math.floor(l/3),f=2*Math.floor(h/3),d=o[c],y=o[c+1],v=o[f],g=o[f+1];this._renderSegment(d,y,v,g,e)}}for(var p,x=a[a.length-1],m=0;m<a.length;++m){p=x,x=a[m];var b=2*Math.floor(r[x]/3),_=o[b],k=o[b+1],w=4*p,M=this._project(_,k,s[w+2],s[w+3]);M&&this._renderSegment(_,k,M[0],M[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new B:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var i=null==t?t=new B:void 0,n=this._clip(e);if(null!==n&&n.length){t.moveTo(n[0],n[1]);for(var r=n.length;n[0]===n[r-2]&&n[1]===n[r-1]&&r>1;)r-=2;for(var a=2;a<r;a+=2)n[a]===n[a-2]&&n[a+1]===n[a-1]||t.lineTo(n[a],n[a+1]);return t.closePath(),i&&i.value()}}},{key:"cellPolygons",value:(0,p.Z)().mark((function e(){var t,i,n,r;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,i=0,n=t.length/2;case 2:if(!(i<n)){e.next=11;break}if(!(r=this.cellPolygon(i))){e.next=8;break}return r.index=i,e.next=8,r;case 8:++i,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new P;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,i,n,r){var a,o=this._regioncode(e,t),s=this._regioncode(i,n);0===o&&0===s?(r.moveTo(e,t),r.lineTo(i,n)):(a=this._clipSegment(e,t,i,n,o,s))&&(r.moveTo(a[0],a[1]),r.lineTo(a[2],a[3]))}},{key:"contains",value:function(e,t,i){return(t=+t)===t&&(i=+i)===i&&this.delaunay._step(e,t,i)===e}},{key:"neighbors",value:(0,p.Z)().mark((function e(t){var i,n,r,a,o,s,l,u,h;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=this._clip(t))){e.next=33;break}n=(0,g.Z)(this.delaunay.neighbors(t)),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=25;break}if(a=r.value,!(o=this._clip(a))){e.next=23;break}s=0,l=i.length;case 10:if(!(s<l)){e.next=23;break}u=0,h=o.length;case 12:if(!(u<h)){e.next=20;break}if(i[s]!=o[u]||i[s+1]!=o[u+1]||i[(s+2)%l]!=o[(u+h-2)%h]||i[(s+3)%l]!=o[(u+h-1)%h]){e.next=17;break}return e.next=16,a;case 16:return e.abrupt("break",23);case 17:u+=2,e.next=12;break;case 20:s+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),n.e(e.t0);case 30:return e.prev=30,n.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,i=this.delaunay,n=i.inedges,r=i.halfedges,a=i.triangles,o=n[e];if(-1===o)return null;var s=[],l=o;do{var u=Math.floor(l/3);if(s.push(t[2*u],t[2*u+1]),a[l=l%3===2?l-2:l+1]!==e)break;l=r[l]}while(l!==o&&-1!==l);return s}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var i=this.vectors,n=4*e;return i[n]||i[n+1]?this._clipInfinite(e,t,i[n],i[n+1],i[n+2],i[n+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var i,n,r,a,o,s=t.length,l=null,u=t[s-2],h=t[s-1],c=this._regioncode(u,h),f=0;f<s;f+=2)if(i=u,n=h,u=t[f],h=t[f+1],r=c,c=this._regioncode(u,h),0===r&&0===c)a=o,o=0,l?l.push(u,h):l=[u,h];else{var d=void 0,y=void 0,v=void 0,g=void 0,p=void 0;if(0===r){if(null===(d=this._clipSegment(i,n,u,h,r,c)))continue;var x=d,m=(0,A.Z)(x,4);y=m[0],v=m[1],g=m[2],p=m[3]}else{if(null===(d=this._clipSegment(u,h,i,n,c,r)))continue;var b=d,_=(0,A.Z)(b,4);g=_[0],p=_[1],y=_[2],v=_[3],a=o,o=this._edgecode(y,v),a&&o&&this._edge(e,a,o,l,l.length),l?l.push(y,v):l=[y,v]}a=o,o=this._edgecode(g,p),a&&o&&this._edge(e,a,o,l,l.length),l?l.push(g,p):l=[g,p]}if(l)a=o,o=this._edgecode(l[0],l[1]),a&&o&&this._edge(e,a,o,l,l.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}},{key:"_clipSegment",value:function(e,t,i,n,r,a){for(;;){if(0===r&&0===a)return[e,t,i,n];if(r&a)return null;var o=void 0,s=void 0,l=r||a;8&l?(o=e+(i-e)*(this.ymax-t)/(n-t),s=this.ymax):4&l?(o=e+(i-e)*(this.ymin-t)/(n-t),s=this.ymin):2&l?(s=t+(n-t)*(this.xmax-e)/(i-e),o=this.xmax):(s=t+(n-t)*(this.xmin-e)/(i-e),o=this.xmin),r?(e=o,t=s,r=this._regioncode(e,t)):(i=o,n=s,a=this._regioncode(i,n))}}},{key:"_clipInfinite",value:function(e,t,i,n,r,a){var o,s=Array.from(t);if((o=this._project(s[0],s[1],i,n))&&s.unshift(o[0],o[1]),(o=this._project(s[s.length-2],s[s.length-1],r,a))&&s.push(o[0],o[1]),s=this._clipFinite(e,s))for(var l,u=0,h=s.length,c=this._edgecode(s[h-2],s[h-1]);u<h;u+=2)l=c,c=this._edgecode(s[u],s[u+1]),l&&c&&(u=this._edge(e,l,c,s,u),h=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(e,t,i,n,r){for(;t!==i;){var a=void 0,o=void 0;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,o=this.ymin}n[r]===a&&n[r+1]===o||!this.contains(e,a,o)||(n.splice(r,0,a,o),r+=2)}if(n.length>4)for(var s=0;s<n.length;s+=2){var l=(s+2)%n.length,u=(s+4)%n.length;(n[s]===n[l]&&n[l]===n[u]||n[s+1]===n[l+1]&&n[l+1]===n[u+1])&&(n.splice(l,2),s-=2)}return r}},{key:"_project",value:function(e,t,i,n){var r,a,o,s=1/0;if(n<0){if(t<=this.ymin)return null;(r=(this.ymin-t)/n)<s&&(o=this.ymin,a=e+(s=r)*i)}else if(n>0){if(t>=this.ymax)return null;(r=(this.ymax-t)/n)<s&&(o=this.ymax,a=e+(s=r)*i)}if(i>0){if(e>=this.xmax)return null;(r=(this.xmax-e)/i)<s&&(a=this.xmax,o=t+(s=r)*n)}else if(i<0){if(e<=this.xmin)return null;(r=(this.xmin-e)/i)<s&&(a=this.xmin,o=t+(s=r)*n)}return[a,o]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),F=(0,p.Z)().mark(D),E=2*Math.PI,W=Math.pow;function G(e){return e[0]}function V(e){return e[1]}function I(e,t,i){return[e+Math.sin(e+t)*i,t+Math.cos(e-t)*i]}var z=function(){function e(t){(0,x.Z)(this,e),this._delaunator=new k(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return(0,m.Z)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,i=e.coords,n=0;n<t.length;n+=3){var r=2*t[n],a=2*t[n+1],o=2*t[n+2];if((i[o]-i[r])*(i[a+1]-i[r+1])-(i[a]-i[r])*(i[o+1]-i[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,i){return t[2*e]-t[2*i]||t[2*e+1]-t[2*i+1]}));for(var i=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*i],t[2*i+1],t[2*n],t[2*n+1]],a=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]),o=0,s=t.length/2;o<s;++o){var l=I(t[2*o],t[2*o+1],a);t[2*o]=l[0],t[2*o+1]=l[1]}this._delaunator=new k(t)}else delete this.collinear;for(var u=this.halfedges=this._delaunator.halfedges,h=this.hull=this._delaunator.hull,c=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),d=this._hullIndex.fill(-1),y=0,v=u.length;y<v;++y){var g=c[y%3===2?y-2:y+1];-1!==u[y]&&-1!==f[g]||(f[g]=y)}for(var p=0,x=h.length;p<x;++p)d[h[p]]=p;h.length<=2&&h.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=h[0],this.triangles[1]=h[1],this.triangles[2]=h[1],f[h[0]]=1,2===h.length&&(f[h[1]]=0))}},{key:"voronoi",value:function(e){return new L(this,e)}},{key:"neighbors",value:(0,p.Z)().mark((function e(t){var i,n,r,a,o,s,l,u,h,c,f;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.inedges,n=this.hull,r=this._hullIndex,a=this.halfedges,o=this.triangles,!(s=this.collinear)){e.next=10;break}if(!((l=s.indexOf(t))>0)){e.next=6;break}return e.next=6,s[l-1];case 6:if(!(l<s.length-1)){e.next=9;break}return e.next=9,s[l+1];case 9:return e.abrupt("return");case 10:if(-1!==(u=i[t])){e.next=13;break}return e.abrupt("return");case 13:h=u,c=-1;case 14:return e.next=16,c=o[h];case 16:if(o[h=h%3===2?h-2:h+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(h=a[h])){e.next=26;break}if((f=n[(r[t]+1)%n.length])===c){e.next=25;break}return e.next=25,f;case 25:return e.abrupt("return");case 26:if(h!==u){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var n,r=i;(n=this._step(i,e,t))>=0&&n!==i&&n!==r;)i=n;return n}},{key:"_step",value:function(e,t,i){var n=this.inedges,r=this.hull,a=this._hullIndex,o=this.halfedges,s=this.triangles,l=this.points;if(-1===n[e]||!l.length)return(e+1)%(l.length>>1);var u=e,h=W(t-l[2*e],2)+W(i-l[2*e+1],2),c=n[e],f=c;do{var d=s[f],y=W(t-l[2*d],2)+W(i-l[2*d+1],2);if(y<h&&(h=y,u=d),s[f=f%3===2?f-2:f+1]!==e)break;if(-1===(f=o[f])){if((f=r[(a[e]+1)%r.length])!==d&&W(t-l[2*f],2)+W(i-l[2*f+1],2)<h)return f;break}}while(f!==c);return u}},{key:"render",value:function(e){for(var t=null==e?e=new B:void 0,i=this.points,n=this.halfedges,r=this.triangles,a=0,o=n.length;a<o;++a){var s=n[a];if(!(s<a)){var l=2*r[a],u=2*r[s];e.moveTo(i[l],i[l+1]),e.lineTo(i[u],i[u+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=null==e?e=new B:void 0,n=this.points,r=0,a=n.length;r<a;r+=2){var o=n[r],s=n[r+1];e.moveTo(o+t,s),e.arc(o,s,t,0,E)}return i&&i.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new B:void 0,i=this.hull,n=this.points,r=2*i[0],a=i.length;e.moveTo(n[r],n[r+1]);for(var o=1;o<a;++o){var s=2*i[o];e.lineTo(n[s],n[s+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new P;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var i=null==t?t=new B:void 0,n=this.points,r=this.triangles,a=2*r[e*=3],o=2*r[e+1],s=2*r[e+2];return t.moveTo(n[a],n[a+1]),t.lineTo(n[o],n[o+1]),t.lineTo(n[s],n[s+1]),t.closePath(),i&&i.value()}},{key:"trianglePolygons",value:(0,p.Z)().mark((function e(){var t,i,n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,i=0,n=t.length/3;case 2:if(!(i<n)){e.next=8;break}return e.next=5,this.trianglePolygon(i);case 5:++i,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new P;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V,r=arguments.length>3?arguments[3]:void 0;return new e("length"in t?Y(t,i,n,r):Float64Array.from(D(t,i,n,r)))}}]),e}();function Y(e,t,i,n){for(var r=e.length,a=new Float64Array(2*r),o=0;o<r;++o){var s=e[o];a[2*o]=t.call(n,s,o,e),a[2*o+1]=i.call(n,s,o,e)}return a}function D(e,t,i,n){var r,a,o,s;return(0,p.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:r=0,a=(0,g.Z)(e),l.prev=2,a.s();case 4:if((o=a.n()).done){l.next=13;break}return s=o.value,l.next=8,t.call(n,s,r,e);case 8:return l.next=10,i.call(n,s,r,e);case 10:++r;case 11:l.next=4;break;case 13:l.next=18;break;case 15:l.prev=15,l.t0=l.catch(2),a.e(l.t0);case 18:return l.prev=18,a.f(),l.finish(18);case 21:case"end":return l.stop()}}),F,null,[[2,15,18,21]])}var H=function(e){return"function"==typeof e?e:function(t){return t[e]}},U=function(e){var t=e.points,i=e.x,r=e.y,a=e.width,o=e.height,s=e.debug,l=(0,n.useMemo)((function(){return function(e){var t=e.points,i=e.x,n=void 0===i?"x":i,r=e.y,a=void 0===r?"y":r,o=H(n),s=H(a);return t.map((function(e){return[o(e),s(e)]}))}({points:t,x:i,y:r})}),[t,i,r]);return(0,n.useMemo)((function(){return function(e){var t=e.points,i=e.width,n=e.height,r=e.debug,a=z.from(t),o=r?a.voronoi([0,0,i,n]):void 0;return{delaunay:a,voronoi:o}}({points:l,width:a,height:o,debug:s})}),[l,a,o,s])},X=function(e){var t=e.nodes,i=e.width,a=e.height,o=e.x,s=e.y,l=e.onMouseEnter,u=e.onMouseMove,h=e.onMouseLeave,c=e.onClick,f=e.debug,d=(0,n.useRef)(null),v=(0,n.useState)(null),g=v[0],p=v[1],x=U({points:t,x:o,y:s,width:i,height:a,debug:f}),m=x.delaunay,b=x.voronoi,_=(0,n.useMemo)((function(){if(f&&b)return b.render()}),[f,b]),k=(0,n.useCallback)((function(e){if(!d.current)return[null,null];var i=(0,r.P6)(d.current,e),n=i[0],a=i[1],o=m.find(n,a);return[o,void 0!==o?t[o]:null]}),[d,m]),w=(0,n.useCallback)((function(e){var t=k(e),i=t[0],n=t[1];p(i),n&&(null==l||l(n,e))}),[k,p,l]),M=(0,n.useCallback)((function(e){var t=k(e),i=t[0],n=t[1];p(i),n&&(null==u||u(n,e))}),[k,p,u]),S=(0,n.useCallback)((function(e){if(p(null),h){var i=void 0;null!==g&&(i=t[g]),i&&h(i,e)}}),[p,g,h,t]),R=(0,n.useCallback)((function(e){var t=k(e),i=t[0],n=t[1];p(i),n&&(null==c||c(n,e))}),[k,p,c]);return(0,y.jsxs)("g",{ref:d,children:[f&&b&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:_,stroke:"red",strokeWidth:1,opacity:.75}),null!==g&&(0,y.jsx)("path",{fill:"pink",opacity:.35,d:b.renderCell(g)})]}),(0,y.jsx)("rect",{width:i,height:a,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:w,onMouseMove:M,onMouseLeave:S,onClick:R})]})};function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},K.apply(this,arguments)}var N=function(e){var t=e.point;return(0,y.jsx)(l._5,{id:(0,y.jsxs)("span",{children:["x: ",(0,y.jsx)("strong",{children:t.data.xFormatted}),", y:"," ",(0,y.jsx)("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};N.propTypes={point:d().object.isRequired};var Q=(0,n.memo)(N),$=function(e){var t=e.slice,i=e.axis,n=(0,r.Fg)(),a="x"===i?"y":"x";return(0,y.jsx)(l.zI,{rows:t.points.map((function(e){return[(0,y.jsx)(l.Af,{color:e.serieColor,style:n.tooltip.chip},"chip"),e.serieId,(0,y.jsx)("span",{style:n.tooltip.tableCellValue,children:e.data[a+"Formatted"]},"value")]}))})};$.propTypes={slice:d().object.isRequired,axis:d().oneOf(["x","y"]).isRequired};var J=(0,n.memo)($),ee={data:d().arrayOf(d().shape({id:d().oneOfType([d().string,d().number]).isRequired,data:d().arrayOf(d().shape({x:d().oneOfType([d().number,d().string,d().instanceOf(Date)]),y:d().oneOfType([d().number,d().string,d().instanceOf(Date)])})).isRequired})).isRequired,xScale:d().object.isRequired,xFormat:d().oneOfType([d().func,d().string]),yScale:d().object.isRequired,yFormat:d().oneOfType([d().func,d().string]),layers:d().arrayOf(d().oneOfType([d().oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),d().func])).isRequired,curve:r.VZ.isRequired,axisTop:o.VT,axisRight:o.VT,axisBottom:o.VT,axisLeft:o.VT,enableGridX:d().bool.isRequired,enableGridY:d().bool.isRequired,gridXValues:d().oneOfType([d().number,d().arrayOf(d().oneOfType([d().number,d().string,d().instanceOf(Date)]))]),gridYValues:d().oneOfType([d().number,d().arrayOf(d().oneOfType([d().number,d().string,d().instanceOf(Date)]))]),enablePoints:d().bool.isRequired,pointSymbol:d().func,pointSize:d().number.isRequired,pointColor:d().any.isRequired,pointBorderWidth:d().number.isRequired,pointBorderColor:d().any.isRequired,enablePointLabel:d().bool.isRequired,pointLabel:d().oneOfType([d().string,d().func]).isRequired,markers:d().arrayOf(d().shape({axis:d().oneOf(["x","y"]).isRequired,value:d().oneOfType([d().number,d().string,d().instanceOf(Date)]).isRequired,style:d().object})),colors:a.qi.isRequired,enableArea:d().bool.isRequired,areaOpacity:d().number.isRequired,areaBlendMode:r.wM.isRequired,areaBaselineValue:d().oneOfType([d().number,d().string,d().instanceOf(Date)]).isRequired,lineWidth:d().number.isRequired,legends:d().arrayOf(d().shape(s.iQ)).isRequired,isInteractive:d().bool.isRequired,debugMesh:d().bool.isRequired,tooltip:d().oneOfType([d().func,d().object]).isRequired,enableSlices:d().oneOf(["x","y",!1]).isRequired,debugSlices:d().bool.isRequired,sliceTooltip:d().oneOfType([d().func,d().object]).isRequired,enableCrosshair:d().bool.isRequired,crosshairType:d().string.isRequired},te=K({},ee,{enablePointLabel:d().bool.isRequired,role:d().string.isRequired,useMesh:d().bool.isRequired},r.w$,r._U),ie=K({pixelRatio:d().number.isRequired},ee),ne={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:Q,enableSlices:!1,debugSlices:!1,sliceTooltip:J,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},re=K({},ne,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),ae=K({},ne,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),oe=function(e){var t=e.curve;return(0,n.useMemo)((function(){return(0,u.Z)().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve((0,r.Bg)(t))}),[t])},se=function(e){var t=e.curve,i=e.yScale,a=e.areaBaselineValue;return(0,n.useMemo)((function(){return(0,h.Z)().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve((0,r.Bg)(t)).y0(i(a))}),[t,i,a])},le=function(e){var t=e.data,i=e.xScale,o=void 0===i?re.xScale:i,s=e.xFormat,l=e.yScale,u=void 0===l?re.yScale:l,h=e.yFormat,f=e.width,d=e.height,y=e.colors,v=void 0===y?re.colors:y,g=e.curve,p=void 0===g?re.curve:g,x=e.areaBaselineValue,m=void 0===x?re.areaBaselineValue:x,b=e.pointColor,_=void 0===b?re.pointColor:b,k=e.pointBorderColor,w=void 0===k?re.pointBorderColor:k,M=e.enableSlices,S=void 0===M?re.enableSlicesTooltip:M,R=(0,r.O_)(s),q=(0,r.O_)(h),T=(0,a.U)(v,"id"),C=(0,r.Fg)(),O=(0,a.Bf)(_,C),j=(0,a.Bf)(w,C),Z=(0,n.useState)([]),B=Z[0],P=Z[1],A=(0,n.useMemo)((function(){return(0,c.Gi)(t.filter((function(e){return-1===B.indexOf(e.id)})),o,u,f,d)}),[t,B,o,u,f,d]),L=A.xScale,F=A.yScale,E=A.series,W=(0,n.useMemo)((function(){var e=t.map((function(e){return{id:e.id,label:e.id,color:T(e)}})),i=e.map((function(e){return K({},E.find((function(t){return t.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return K({},e,{hidden:!i.find((function(t){return t.id===e.id}))})})).reverse(),series:i}}),[t,E,T]),G=W.legendData,V=W.series,I=(0,n.useCallback)((function(e){P((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),z=function(e){var t=e.series,i=e.getPointColor,r=e.getPointBorderColor,a=e.formatX,o=e.formatY;return(0,n.useMemo)((function(){return t.reduce((function(e,t){return[].concat(e,t.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(n,s){var l={id:t.id+"."+s,index:e.length+s,serieId:t.id,serieColor:t.color,x:n.position.x,y:n.position.y};return l.color=i(t),l.borderColor=r(l),l.data=K({},n.data,{xFormatted:a(n.data.x),yFormatted:o(n.data.y)}),l})))}),[])}),[t,i,r,a,o])}({series:V,getPointColor:O,getPointBorderColor:j,formatX:R,formatY:q}),Y=function(e){var t=e.enableSlices,i=e.points,r=e.width,a=e.height;return(0,n.useMemo)((function(){if(!1===t)return[];if("x"===t){var e=new Map;return i.forEach((function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))})),Array.from(e.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,i){var n,o=e[0],s=e[1],l=i[t-1],u=i[t+1];return{id:o,x0:n=l?o-(o-l[0])/2:o,x:o,y0:0,y:0,width:u?o-n+(u[0]-o)/2:r-n,height:a,points:s.reverse()}}))}if("y"===t){var n=new Map;return i.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(n.has(e.y)?n.get(e.y).push(e):n.set(e.y,[e]))})),Array.from(n.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,i){var n,o,s=e[0],l=e[1],u=i[t-1],h=i[t+1];return n=u?s-(s-u[0])/2:s,o=h?s-n+(h[0]-s)/2:a-n,{id:s,x0:0,x:0,y0:n,y:s,width:r,height:o,points:l.reverse()}}))}}),[t,i])}({enableSlices:S,points:z,width:f,height:d});return{legendData:G,toggleSerie:I,lineGenerator:oe({curve:p}),areaGenerator:se({curve:p,yScale:F,areaBaselineValue:m}),getColor:T,series:V,xScale:L,yScale:F,slices:Y,points:z}},ue=function(e){var t=e.areaBlendMode,i=e.areaOpacity,n=e.color,a=e.fill,o=e.path,s=(0,r.tf)(),l=s.animate,u=s.config,h=(0,r.NS)(o),c=(0,v.useSpring)({color:n,config:u,immediate:!l});return(0,y.jsx)(v.animated.path,{d:h,fill:a||c.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:t}})};ue.propTypes={areaBlendMode:r.wM.isRequired,areaOpacity:d().number.isRequired,color:d().string,fill:d().string,path:d().string.isRequired};var he=function(e){var t=e.areaGenerator,i=e.areaOpacity,n=e.areaBlendMode,r=e.lines.slice(0).reverse();return(0,y.jsx)("g",{children:r.map((function(e){return(0,y.jsx)(ue,K({path:t(e.data.map((function(e){return e.position})))},K({areaOpacity:i,areaBlendMode:n},e)),e.id)}))})};he.propTypes={areaGenerator:d().func.isRequired,areaOpacity:d().number.isRequired,areaBlendMode:r.wM.isRequired,lines:d().arrayOf(d().object).isRequired};var ce=(0,n.memo)(he),fe=function(e){var t=e.lineGenerator,i=e.points,a=e.color,o=e.thickness,s=(0,n.useMemo)((function(){return t(i)}),[t,i]),l=(0,r.NS)(s);return(0,y.jsx)(v.animated.path,{d:l,fill:"none",strokeWidth:o,stroke:a})};fe.propTypes={points:d().arrayOf(d().shape({x:d().oneOfType([d().string,d().number]),y:d().oneOfType([d().string,d().number])})),lineGenerator:d().func.isRequired,color:d().string.isRequired,thickness:d().number.isRequired};var de=(0,n.memo)(fe),ye=function(e){var t=e.lines,i=e.lineGenerator,n=e.lineWidth;return t.slice(0).reverse().map((function(e){var t=e.id,r=e.data,a=e.color;return(0,y.jsx)(de,{id:t,points:r.map((function(e){return e.position})),lineGenerator:i,color:a,thickness:n},t)}))};ye.propTypes={lines:d().arrayOf(d().shape({id:d().oneOfType([d().string,d().number]).isRequired,color:d().string.isRequired,data:d().arrayOf(d().shape({data:d().shape({x:d().oneOfType([d().string,d().number,d().instanceOf(Date)]),y:d().oneOfType([d().string,d().number,d().instanceOf(Date)])}).isRequired,position:d().shape({x:d().number,y:d().number}).isRequired})).isRequired})).isRequired,lineWidth:d().number.isRequired,lineGenerator:d().func.isRequired};var ve=(0,n.memo)(ye),ge=function(e){var t=e.slice,i=e.axis,r=e.debug,a=e.tooltip,o=e.isCurrent,s=e.setCurrent,u=(0,l.lL)(),h=u.showTooltipFromEvent,c=u.hideTooltip,f=(0,n.useCallback)((function(e){h((0,n.createElement)(a,{slice:t,axis:i}),e,"right"),s(t)}),[h,a,t]),d=(0,n.useCallback)((function(e){h((0,n.createElement)(a,{slice:t,axis:i}),e,"right")}),[h,a,t]),v=(0,n.useCallback)((function(){c(),s(null)}),[c]);return(0,y.jsx)("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:o&&r?.35:0,onMouseEnter:f,onMouseMove:d,onMouseLeave:v})};ge.propTypes={slice:d().object.isRequired,axis:d().oneOf(["x","y"]).isRequired,debug:d().bool.isRequired,height:d().number.isRequired,tooltip:d().oneOfType([d().func,d().object]),isCurrent:d().bool.isRequired,setCurrent:d().func.isRequired};var pe=(0,n.memo)(ge),xe=function(e){var t=e.slices,i=e.axis,n=e.debug,r=e.height,a=e.tooltip,o=e.current,s=e.setCurrent;return t.map((function(e){return(0,y.jsx)(pe,{slice:e,axis:i,debug:n,height:r,tooltip:a,setCurrent:s,isCurrent:null!==o&&o.id===e.id},e.id)}))};xe.propTypes={slices:d().arrayOf(d().shape({id:d().oneOfType([d().number,d().string,d().instanceOf(Date)]).isRequired,x:d().number.isRequired,y:d().number.isRequired,points:d().arrayOf(d().object).isRequired})).isRequired,axis:d().oneOf(["x","y"]).isRequired,debug:d().bool.isRequired,height:d().number.isRequired,tooltip:d().oneOfType([d().func,d().object]).isRequired,current:d().object,setCurrent:d().func.isRequired};var me=(0,n.memo)(xe),be=function(e){var t=e.points,i=e.symbol,n=e.size,a=e.borderWidth,o=e.enableLabel,s=e.label,l=e.labelYOffset,u=(0,r.Fg)(),h=(0,r.ji)(s),c=t.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:o?h(e.data):null}}));return(0,y.jsx)("g",{children:c.map((function(e){return(0,y.jsx)(r.F_,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:n,color:e.fill,borderWidth:a,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:u},e.id)}))})};be.propTypes={points:d().arrayOf(d().object),symbol:d().func,size:d().number.isRequired,color:d().func.isRequired,borderWidth:d().number.isRequired,borderColor:d().func.isRequired,enableLabel:d().bool.isRequired,label:d().oneOfType([d().string,d().func]).isRequired,labelYOffset:d().number};var _e=(0,n.memo)(be),ke=function(e){var t=e.points,i=e.width,r=e.height,a=e.margin,o=e.setCurrent,s=e.onMouseEnter,u=e.onMouseMove,h=e.onMouseLeave,c=e.onClick,f=e.tooltip,d=e.debug,v=(0,l.lL)(),g=v.showTooltipAt,p=v.hideTooltip,x=(0,n.useCallback)((function(e,t){g((0,n.createElement)(f,{point:e}),[e.x+a.left,e.y+a.top],"top"),o(e),s&&s(e,t)}),[o,g,f,s,a]),m=(0,n.useCallback)((function(e,t){g((0,n.createElement)(f,{point:e}),[e.x+a.left,e.y+a.top],"top"),o(e),u&&u(e,t)}),[o,g,f,u]),b=(0,n.useCallback)((function(e,t){p(),o(null),h&&h(e,t)}),[p,o,h]),_=(0,n.useCallback)((function(e,t){c&&c(e,t)}),[c]);return(0,y.jsx)(X,{nodes:t,width:i,height:r,onMouseEnter:x,onMouseMove:m,onMouseLeave:b,onClick:_,debug:d})};ke.propTypes={points:d().arrayOf(d().object).isRequired,width:d().number.isRequired,height:d().number.isRequired,margin:d().object.isRequired,setCurrent:d().func.isRequired,onMouseEnter:d().func,onMouseMove:d().func,onMouseLeave:d().func,onClick:d().func,tooltip:d().oneOfType([d().func,d().object]).isRequired,debug:d().bool.isRequired};var we=(0,n.memo)(ke),Me=function(e){var t=e.data,i=e.xScale,u=e.xFormat,h=e.yScale,c=e.yFormat,f=e.layers,d=e.curve,v=e.areaBaselineValue,g=e.colors,p=e.margin,x=e.width,m=e.height,b=e.axisTop,_=e.axisRight,k=e.axisBottom,w=e.axisLeft,M=e.enableGridX,S=e.enableGridY,R=e.gridXValues,q=e.gridYValues,T=e.lineWidth,C=e.enableArea,O=e.areaOpacity,j=e.areaBlendMode,Z=e.enablePoints,B=e.pointSymbol,P=e.pointSize,A=e.pointColor,L=e.pointBorderWidth,F=e.pointBorderColor,E=e.enablePointLabel,W=e.pointLabel,G=e.pointLabelYOffset,V=e.defs,I=e.fill,z=e.markers,Y=e.legends,D=e.isInteractive,H=e.useMesh,U=e.debugMesh,X=e.onMouseEnter,N=e.onMouseMove,Q=e.onMouseLeave,$=e.onClick,J=e.tooltip,ee=e.enableSlices,te=e.debugSlices,ie=e.sliceTooltip,ne=e.enableCrosshair,re=e.crosshairType,ae=e.role,oe=(0,r.Bs)(x,m,p),se=oe.margin,ue=oe.innerWidth,he=oe.innerHeight,fe=oe.outerWidth,de=oe.outerHeight,ye=le({data:t,xScale:i,xFormat:u,yScale:h,yFormat:c,width:ue,height:he,colors:g,curve:d,areaBaselineValue:v,pointColor:A,pointBorderColor:F,enableSlices:ee}),ge=ye.legendData,pe=ye.toggleSerie,xe=ye.lineGenerator,be=ye.areaGenerator,ke=ye.series,Me=ye.xScale,Se=ye.yScale,Re=ye.slices,qe=ye.points,Te=(0,r.Fg)(),Ce=(0,a.Bf)(A,Te),Oe=(0,a.Bf)(F,Te),je=(0,n.useState)(null),Ze=je[0],Be=je[1],Pe=(0,n.useState)(null),Ae=Pe[0],Le=Pe[1],Fe={grid:(0,y.jsx)(o.rj,{theme:Te,width:ue,height:he,xScale:M?Me:null,yScale:S?Se:null,xValues:R,yValues:q},"grid"),markers:(0,y.jsx)(r.TL,{markers:z,width:ue,height:he,xScale:Me,yScale:Se,theme:Te},"markers"),axes:(0,y.jsx)(o.dk,{xScale:Me,yScale:Se,width:ue,height:he,theme:Te,top:b,right:_,bottom:k,left:w},"axes"),areas:null,lines:(0,y.jsx)(ve,{lines:ke,lineGenerator:xe,lineWidth:T},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Y.map((function(e,t){return(0,y.jsx)(s.$6,K({},e,{containerWidth:ue,containerHeight:he,data:e.data||ge,theme:Te,toggleSerie:e.toggleSerie?pe:void 0}),"legend."+t)}))},Ee=(0,r.yU)(V,ke,I);return C&&(Fe.areas=(0,y.jsx)(ce,{areaGenerator:be,areaOpacity:O,areaBlendMode:j,lines:ke},"areas")),D&&!1!==ee&&(Fe.slices=(0,y.jsx)(me,{slices:Re,axis:ee,debug:te,height:he,tooltip:ie,current:Ae,setCurrent:Le},"slices")),Z&&(Fe.points=(0,y.jsx)(_e,{points:qe,symbol:B,size:P,color:Ce,borderWidth:L,borderColor:Oe,enableLabel:E,label:W,labelYOffset:G},"points")),D&&ne&&(null!==Ze&&(Fe.crosshair=(0,y.jsx)(l.YS,{width:ue,height:he,x:Ze.x,y:Ze.y,type:re},"crosshair")),null!==Ae&&(Fe.crosshair=(0,y.jsx)(l.YS,{width:ue,height:he,x:Ae.x,y:Ae.y,type:ee},"crosshair"))),D&&H&&!1===ee&&(Fe.mesh=(0,y.jsx)(we,{points:qe,width:ue,height:he,margin:se,current:Ze,setCurrent:Be,onMouseEnter:X,onMouseMove:N,onMouseLeave:Q,onClick:$,tooltip:J,debug:U},"mesh")),(0,y.jsx)(r.tM,{defs:Ee,width:fe,height:de,margin:se,role:ae,children:f.map((function(t,i){return"function"==typeof t?(0,y.jsx)(n.Fragment,{children:t(K({},e,{innerWidth:ue,innerHeight:he,series:ke,slices:Re,points:qe,xScale:Me,yScale:Se,lineGenerator:xe,areaGenerator:be,currentPoint:Ze,setCurrentPoint:Be,currentSlice:Ae,setCurrentSlice:Le}))},i):Fe[t]}))})};Me.propTypes=te,Me.defaultProps=re;var Se=(0,r.li)(Me),Re=function(e){return(0,y.jsx)(r.d,{children:function(t){var i=t.width,n=t.height;return(0,y.jsx)(Se,K({width:i,height:n},e))}})},qe=function(e){var t=e.width,i=e.height,a=e.margin,u=e.pixelRatio,h=e.data,c=e.xScale,f=e.xFormat,d=e.yScale,v=e.yFormat,g=e.curve,p=e.layers,x=e.colors,m=e.lineWidth,b=e.enableArea,_=e.areaBaselineValue,k=e.areaOpacity,w=e.enablePoints,M=e.pointSize,S=e.pointColor,R=e.pointBorderWidth,q=e.pointBorderColor,T=e.enableGridX,C=e.gridXValues,O=e.enableGridY,j=e.gridYValues,Z=e.axisTop,B=e.axisRight,P=e.axisBottom,A=e.axisLeft,L=e.legends,F=e.isInteractive,E=e.debugMesh,W=e.onMouseLeave,G=e.onClick,V=e.tooltip,I=e.canvasRef,z=(0,n.useRef)(null),Y=(0,r.Bs)(t,i,a),D=Y.margin,H=Y.innerWidth,X=Y.innerHeight,N=Y.outerWidth,Q=Y.outerHeight,$=(0,r.Fg)(),J=(0,n.useState)(null),ee=J[0],te=J[1],ie=le({data:h,xScale:c,xFormat:f,yScale:d,yFormat:v,width:H,height:X,colors:x,curve:g,areaBaselineValue:_,pointColor:S,pointBorderColor:q}),ne=ie.lineGenerator,re=ie.areaGenerator,ae=ie.series,oe=ie.xScale,se=ie.yScale,ue=ie.points,he=U({points:ue,width:H,height:X,debug:E}),ce=he.delaunay,fe=he.voronoi;(0,n.useEffect)((function(){I&&(I.current=z.current),z.current.width=N*u,z.current.height=Q*u;var e=z.current.getContext("2d");e.scale(u,u),e.fillStyle=$.background,e.fillRect(0,0,N,Q),e.translate(D.left,D.top),p.forEach((function(t){if("function"==typeof t&&t({ctx:e,innerWidth:H,innerHeight:X,series:ae,points:ue,xScale:oe,yScale:se,lineWidth:m,lineGenerator:ne,areaGenerator:re,currentPoint:ee,setCurrentPoint:te}),"grid"===t&&$.grid.line.strokeWidth>0&&(e.lineWidth=$.grid.line.strokeWidth,e.strokeStyle=$.grid.line.stroke,T&&(0,o.FA)(e,{width:H,height:X,scale:oe,axis:"x",values:C}),O&&(0,o.FA)(e,{width:H,height:X,scale:se,axis:"y",values:j})),"axes"===t&&(0,o.DZ)(e,{xScale:oe,yScale:se,width:H,height:X,top:Z,right:B,bottom:P,left:A,theme:$}),"areas"===t&&!0===b&&(e.save(),e.globalAlpha=k,re.context(e),ae.forEach((function(t){e.fillStyle=t.color,e.beginPath(),re(t.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===t&&(ne.context(e),ae.forEach((function(t){e.strokeStyle=t.color,e.lineWidth=m,e.beginPath(),ne(t.data.map((function(e){return e.position}))),e.stroke()}))),"points"===t&&!0===w&&M>0&&ue.forEach((function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,M/2,0,2*Math.PI),e.fill(),R>0&&(e.strokeStyle=t.borderColor,e.lineWidth=R,e.stroke())})),"mesh"===t&&!0===E&&(function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()}(e,fe),ee&&function(e,t,i){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(i,e),e.fillStyle="red",e.fill(),e.restore()}(e,fe,ee.index)),"legends"===t){var i=ae.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();L.forEach((function(t){(0,s.as)(e,K({},t,{data:t.data||i,containerWidth:H,containerHeight:X,theme:$}))}))}}))}),[z,N,Q,p,$,ne,ae,oe,se,T,C,O,j,Z,B,P,A,L,ue,w,M,ee]);var de=(0,n.useCallback)((function(e){var t=(0,r.P6)(z.current,e),i=t[0],n=t[1];if(!(0,r.zn)(D.left,D.top,H,X,i,n))return null;var a=ce.find(i-D.left,n-D.top);return ue[a]}),[z,D,H,X,ce]),ye=(0,l.lL)(),ve=ye.showTooltipFromEvent,ge=ye.hideTooltip,pe=(0,n.useCallback)((function(e){var t=de(e);te(t),t?ve((0,n.createElement)(V,{point:t}),e):ge()}),[de,te,ve,ge,V]),xe=(0,n.useCallback)((function(e){ge(),te(null),ee&&W&&W(ee,e)}),[ge,te,W]),me=(0,n.useCallback)((function(e){if(G){var t=de(e);t&&G(t,e)}}),[de,G]);return(0,y.jsx)("canvas",{ref:z,width:N*u,height:Q*u,style:{width:N,height:Q,cursor:F?"auto":"normal"},onMouseEnter:F?pe:void 0,onMouseMove:F?pe:void 0,onMouseLeave:F?xe:void 0,onClick:F?me:void 0})};qe.propTypes=ie,qe.defaultProps=ae;var Te=(0,r.li)(qe),Ce=(0,n.forwardRef)((function(e,t){return(0,y.jsx)(Te,K({},e,{canvasRef:t}))}));(0,n.forwardRef)((function(e,t){return(0,y.jsx)(r.d,{children:function(i){var n=i.width,r=i.height;return(0,y.jsx)(Ce,K({width:n,height:r},e,{ref:t}))}})}))},73339:function(e,t){var i=Math.PI,n=2*i,r=1e-6,a=n-r;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new o}o.prototype=s.prototype={constructor:o,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,i,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(e,t,i,n,r,a){this._+="C"+ +e+","+ +t+","+ +i+","+ +n+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(e,t,n,a,o){e=+e,t=+t,n=+n,a=+a,o=+o;var s=this._x1,l=this._y1,u=n-e,h=a-t,c=s-e,f=l-t,d=c*c+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>r)if(Math.abs(f*u-h*c)>r&&o){var y=n-s,v=a-l,g=u*u+h*h,p=y*y+v*v,x=Math.sqrt(g),m=Math.sqrt(d),b=o*Math.tan((i-Math.acos((g+d-p)/(2*x*m)))/2),_=b/m,k=b/x;Math.abs(_-1)>r&&(this._+="L"+(e+_*c)+","+(t+_*f)),this._+="A"+o+","+o+",0,0,"+ +(f*y>c*v)+","+(this._x1=e+k*u)+","+(this._y1=t+k*h)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,o,s,l,u){e=+e,t=+t,u=!!u;var h=(o=+o)*Math.cos(s),c=o*Math.sin(s),f=e+h,d=t+c,y=1^u,v=u?s-l:l-s;if(o<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+f+","+d:(Math.abs(this._x1-f)>r||Math.abs(this._y1-d)>r)&&(this._+="L"+f+","+d),o&&(v<0&&(v=v%n+n),v>a?this._+="A"+o+","+o+",0,1,"+y+","+(e-h)+","+(t-c)+"A"+o+","+o+",0,1,"+y+","+(this._x1=f)+","+(this._y1=d):v>r&&(this._+="A"+o+","+o+",0,"+ +(v>=i)+","+y+","+(this._x1=e+o*Math.cos(l))+","+(this._y1=t+o*Math.sin(l))))},rect:function(e,t,i,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}},t.Z=s},85520:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(73339),r=i(76817),a=i(38146),o=i(86344),s=i(3351);function l(){var e=s.x,t=null,i=(0,r.Z)(0),l=s.y,u=(0,r.Z)(!0),h=null,c=a.Z,f=null;function d(r){var a,o,s,d,y,v=r.length,g=!1,p=new Array(v),x=new Array(v);for(null==h&&(f=c(y=(0,n.Z)())),a=0;a<=v;++a){if(!(a<v&&u(d=r[a],a,r))===g)if(g=!g)o=a,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),s=a-1;s>=o;--s)f.point(p[s],x[s]);f.lineEnd(),f.areaEnd()}g&&(p[a]=+e(d,a,r),x[a]=+i(d,a,r),f.point(t?+t(d,a,r):p[a],l?+l(d,a,r):x[a]))}if(y)return f=null,y+""||null}function y(){return(0,o.Z)().defined(u).curve(c).context(h)}return d.x=function(i){return arguments.length?(e="function"===typeof i?i:(0,r.Z)(+i),t=null,d):e},d.x0=function(t){return arguments.length?(e="function"===typeof t?t:(0,r.Z)(+t),d):e},d.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:(0,r.Z)(+e),d):t},d.y=function(e){return arguments.length?(i="function"===typeof e?e:(0,r.Z)(+e),l=null,d):i},d.y0=function(e){return arguments.length?(i="function"===typeof e?e:(0,r.Z)(+e),d):i},d.y1=function(e){return arguments.length?(l=null==e?null:"function"===typeof e?e:(0,r.Z)(+e),d):l},d.lineX0=d.lineY0=function(){return y().x(e).y(i)},d.lineY1=function(){return y().x(e).y(l)},d.lineX1=function(){return y().x(t).y(i)},d.defined=function(e){return arguments.length?(u="function"===typeof e?e:(0,r.Z)(!!e),d):u},d.curve=function(e){return arguments.length?(c=e,null!=h&&(f=c(h)),d):c},d.context=function(e){return arguments.length?(null==e?h=f=null:f=c(h=e),d):h},d}},86344:function(e,t,i){i.d(t,{Z:function(){return s}});var n=i(73339),r=i(76817),a=i(38146),o=i(3351);function s(){var e=o.x,t=o.y,i=(0,r.Z)(!0),s=null,l=a.Z,u=null;function h(r){var a,o,h,c=r.length,f=!1;for(null==s&&(u=l(h=(0,n.Z)())),a=0;a<=c;++a)!(a<c&&i(o=r[a],a,r))===f&&((f=!f)?u.lineStart():u.lineEnd()),f&&u.point(+e(o,a,r),+t(o,a,r));if(h)return u=null,h+""||null}return h.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,r.Z)(+t),h):e},h.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,r.Z)(+e),h):t},h.defined=function(e){return arguments.length?(i="function"===typeof e?e:(0,r.Z)(!!e),h):i},h.curve=function(e){return arguments.length?(l=e,null!=s&&(u=l(s)),h):l},h.context=function(e){return arguments.length?(null==e?s=u=null:u=l(s=e),h):s},h}},3351:function(e,t,i){function n(e){return e[0]}function r(e){return e[1]}i.d(t,{x:function(){return n},y:function(){return r}})}}]);
//# sourceMappingURL=9234.83ff5b76.chunk.js.map